# Бот для голосований в mattermost

Создан(в попыхах) при участии на отбор на стажировку.

## Как запустить?
```
docker-compose build
docker-compose up -d
```

После чего mattermost будет запущен на `localhost:8065`

Вообще, все данные должны быть сохранены в папках. Должно хватать ввести **имя пользователя: usercommon**, и **пароль: "jopkabegemota"**

Однако, если что-то не так, то придётся настраивать в ручную.

На всякий случай, называйте орагнизацию `cal`

Также создайте бота через системную панель, а его токен пропишите в `deploy.env` в поле `MMTOKEN`

Этого должно хватить.


## Описание

* `tarantool/` - содержит файлы необходимые для работы *tarantool*, там лежит инициализирующий `init.lua`
* `bot/` - содержит програмный код бота, а так же его env-переменные и `Dockerfile`
* `docker-compose.yml` - Соответственно `docker-compose`

## Usage

напишите `/vote`, и бот отошлёт вам инструкцию по тому, как пользоваться.

### Создание опросника
За создание опросника отвечает:
`/vote create [theme_name] Option1 Option2`

Бот пришлёт ID опросника, дальше можно выполнять другие действия

*(поскольку создавалось в попыхах название темы не может иметь пробелов)*

### Голосование
За голосование отвечает:
`/vote vote [ID] OptionN`

### Результаты голосования
`/vote results [PollID]`

### Закрытие опросника
`/vote close [PollID]`

### Удаление опросника
`/vote delete [PollID]`
